 │    - `firmware/ESP32_code.ino`                                                                                                │
 ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

╭──────────────────────────────────────────────────╮
│  > check my code again @firmware/ESP32_code.ino  │
╰──────────────────────────────────────────────────╯

✦ Of course. I've reviewed your updated code.


  You have successfully changed the authentication method from anonymous to email and password, which is a good step.


  However, the original and most critical problem is still there: you have not added the time synchronization code. The SSL connection
  to Firebase is still failing because your ESP32 does not know the correct time.

  ### The Solution


  I have taken your latest code and integrated the necessary time synchronization fix. Please replace the entire content of your
  firmware/ESP32_code.ino file with the code below. It includes your new email/password logic plus the required fix.


  `cpp
  #include <Arduino.h>
  #include <WiFi.h>
  #include <Firebase_ESP_Client.h>
  #include <DHT.h>
  #include <time.h> // <-- ADD THIS LINE

  // --- IMPORTANT: CREDENTIALS MOVED TO SEPARATE FILE ---
  // Create a file named "secrets.h" and define your credentials there.
  #include "secrets.h"

  // --- FIREBASE AUTH USER (create in Firebase Authentication -> Users) ---
  #define USER_EMAIL "ponce.rn952@s.msumain.edu.ph" // <-- CHANGE THIS
  #define USER_PASSWORD "Norhaina091402"            // <-- CHANGE THIS

  // --- SENSOR CONFIGURATION ---
  #define DHT_SENSOR_PIN 5
  #define DHT_SENSOR_TYPE DHT22
  #define RAIN_SENSOR_PIN 36

  // --- DEVICE LOCATION ---
  #define DEVICE_LATITUDE 7.99795
  #define DEVICE_LONGITUDE 124.25324

  // --- GLOBAL OBJECTS ---
  FirebaseData fbdo;
  FirebaseAuth auth;
  FirebaseConfig config;
  DHT dht_sensor(DHT_SENSOR_PIN, DHT_SENSOR_TYPE);

  // --- TIMING ---
  unsigned long sendDataPrevMillis = 0;
  unsigned long dataSendInterval = 3000;

  // --- TOKEN STATUS CALLBACK ---
  void tokenStatusCallback(TokenInfo info)
  {
    if (info.status == token_status_ready)
    {
      Serial.println("Firebase token is ready, streaming data will begin shortly.");
    }
    else
    {
      Serial.printf("Firebase token status: %s\n", info.error.message.c_str());
    }
  }

  void setup()
  {
    Serial.begin(115220);
    dht_sensor.begin();

    // --- CONNECT TO WIFI ---
    WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
    Serial.print("Connecting to Wi-Fi");
    while (WiFi.status() != WL_CONNECTED)
    {
      Serial.print(".");
      delay(300);
    }
    Serial.println();
    Serial.print("Connected with IP: ");
    Serial.println(WiFi.localIP());
    Serial.println();

    // --- NEW: TIME SYNCHRONIZATION (THIS IS THE FIX) ---
    Serial.println("Configuring time...");
    configTime(0, 0, "pool.ntp.org"); // Get time from NTP server
    Serial.print("Waiting for time synchronization");

    time_t now = time(nullptr);
    while (now < 8  3600  2) { // Wait until time is reasonably set
      delay(500);
      Serial.print(".");
      now = time(nullptr);
    }

    struct tm timeinfo;
    gmtime_r(&now, &timeinfo);
    Serial.println("");
    Serial.print("Current time: ");
    Serial.print(asctime(&timeinfo));
    // --- END OF FIX ---

    // --- FIREBASE CONFIG ---
    config.api_key = API_KEY;
    config.database_url = DATABASE_URL;
    config.token_status_callback = tokenStatusCallback;

    // --- SET USER EMAIL/PASSWORD ---
    auth.user.email = USER_EMAIL;
    auth.user.password = USER_PASSWORD;

    // --- START FIREBASE ---
    Firebase.begin(&config, &auth);
    Firebase.reconnectWiFi(true);
  }

  void loop()
  {
    // Use Firebase.ready() which confirms authentication is complete
    if (Firebase.ready() && (millis() - sendDataPrevMillis > dataSendInterval || sendDataPrevMillis == 0))
    {
      sendDataPrevMillis = millis();

      // --- READ SENSORS ---
      float temperature = dht_sensor.readTemperature();
      float humidity = dht_sensor.readHumidity();
      int rainRaw = analogRead(RAIN_SENSOR_PIN);
      int rainPercent = map(rainRaw, 4095, 0, 0, 100);

      if (isnan(temperature) || isnan(humidity))
      {
        Serial.println("Error: Failed to read from DHT sensor!");
        return;
      }

      Serial.println("----------------------------------------");
      Serial.println("Preparing to send data to Firebase...");
      Serial.printf("Temperature: %.2f °C\n", temperature);
      Serial.printf("Humidity: %.2f %%\n", humidity);
      Serial.printf("Rainfall Level: %d %%\n", rainPercent);

      // --- JSON DATA ---
      FirebaseJson jsonData;
      jsonData.set("temperature", temperature);
      jsonData.set("humidity", humidity);
      jsonData.set("rainfall", rainPercent);
      jsonData.set("timestamp/.sv", "timestamp");
      jsonData.set("location/lat", DEVICE_LATITUDE);
      jsonData.set("location/lng", DEVICE_LONGITUDE);

      // --- PUSH TO HISTORY ---
      String historyPath = "/sensor_logs";
      if (Firebase.RTDB.pushJSON(&fbdo, historyPath, &jsonData))
      {
        Serial.println("SUCCESS: Historical data pushed to Firebase.");
      }
      else
      {
        Serial.println("FAILED: Could not push historical data. REASON: " + fbdo.errorReason());
      }

      // --- UPDATE LATEST DATA ---
      String latestPath = "/sensor_data/latest";
      if (Firebase.RTDB.setJSON(&fbdo, latestPath, &jsonData))
      {
        Serial.println("SUCCESS: Latest data updated in Firebase.");
      }
      else
      {
        Serial.println("FAILED: Could not update latest data. REASON: " + fbdo.errorReason());
      }

      Serial.println("----------------------------------------");
    }
  }
  `


  After you upload this complete code, your ESP32 will first connect to Wi-Fi, then get the correct time, and only then attempt to
  connect to Firebase. This will solve the SSL error.

╭───────────────────────────────────────────────────────────────────╮
│  > why does it suddenly like that? it working normally yesterday  │
╰───────────────────────────────────────────────────────────────────╯

✦ That's an excellent question, and it highlights one of the most common and confusing issues with devices like the ESP32.

  Here’s the simple explanation for why it worked yesterday but not today:


  Your ESP32 has no memory of the real time.


   1. No Internal Clock: Unlike your computer or phone, the ESP32 does not have a battery-backed internal clock (Real-Time Clock or RTC).
      When you unplug it or reset it, it completely forgets the current date and time. Its clock resets to a default value, which is
      essentially "zero" (January 1, 1970).
   2. SSL Security Requires Correct Time: When the ESP32 tries to connect to Firebase, it uses an SSL certificate for security. This
      certificate is like an ID card for the server, and it has an issue date and an expiration date. Your ESP32 checks this certificate
      to make sure it's valid.
   3. The "Yesterday vs. Today" Problem:
  In short: The problem was always there, but a power cycle made it appear.


  The fix I provided (adding the NTP time synchronization code) solves this permanently. Now, every single time your ESP32 boots up, it
  will:
  1.  Connect to Wi-Fi.
  2.  Ask an internet time server for the correct date and time.
  3.  Set its internal clock correctly.
  4.  Then connect to Firebase, passing the security check every time.
 ╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✓  ReadManyFiles Will attempt to read and concatenate files using patterns:                                                   │
 │    error.txt                                                                                                                  │
 │     (within target directory:                                                                                                 │
 │    C:\Users\PC\Desktop\weather-monitoring-system                                                                              │
 │    ) . Excluding: patterns like                                                                                               │
 │    **/node_modules/**`, `**/.git/**...`. File encoding: utf-8. Separator: "--- path/to/file.ext ---".                         │
 │                                                                                                                               │
 │    ### ReadManyFiles Result (Target Dir: `C:\Users\PC\Desktop\weather-monitoring-system`)                                     │
 │                                                                                                                               │
 │    Successfully read and concatenated content from **1 file(s)**.                                                             │
 │                                                                                                                               │
 │    **Processed Files:**                                                                                                       │
 │    - `error.txt`                                                                                                              │
 ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

╭───────────────────────────────────────────────────────╮
│  > theres error on the code that you give @error.txt  │
╰───────────────────────────────────────────────────────╯

✦ You are absolutely right! My sincere apologies. That is a typo in my code.


  The error message is correct. The line:
  while (now < 8 3600 2)


  Is missing the multiplication symbols (*). It should be:
  while (now < 8 * 3600 * 2)


  I will provide the fully corrected code now. Please replace the entire content of firmware/ESP32_code.ino one more time with this
  version. I have double-checked it for errors.


  `cpp
  #include <Arduino.h>
  #include <WiFi.h>
  #include <Firebase_ESP_Client.h>
  #include <DHT.h>
  #include <time.h> // <-- Required for time sync

  // --- IMPORTANT: CREDENTIALS MOVED TO SEPARATE FILE ---
  // Create a file named "secrets.h" and define your credentials there.
  #include "secrets.h"

  // --- FIREBASE AUTH USER (create in Firebase Authentication -> Users) ---
  #define USER_EMAIL "ponce.rn952@s.msumain.edu.ph" // <-- CHANGE THIS
  #define USER_PASSWORD "Norhaina091402"            // <-- CHANGE THIS

  // --- SENSOR CONFIGURATION ---
  #define DHT_SENSOR_PIN 5
  #define DHT_SENSOR_TYPE DHT22
  #define RAIN_SENSOR_PIN 36

  // --- DEVICE LOCATION ---
  #define DEVICE_LATITUDE 7.99795
  #define DEVICE_LONGITUDE 124.25324

  // --- GLOBAL OBJECTS ---
  FirebaseData fbdo;
  FirebaseAuth auth;
  FirebaseConfig config;
  DHT dht_sensor(DHT_SENSOR_PIN, DHT_SENSOR_TYPE);

  // --- TIMING ---
  unsigned long sendDataPrevMillis = 0;
  unsigned long dataSendInterval = 3000;

  // --- TOKEN STATUS CALLBACK ---
  void tokenStatusCallback(TokenInfo info)
  {
    if (info.status == token_status_ready)
    {
      Serial.println("Firebase token is ready, streaming data will begin shortly.");
    }
    else
    {
      Serial.printf("Firebase token status: %s\n", info.error.message.c_str());
    }
  }

  void setup()
  {
    Serial.begin(115200); // Corrected baud rate to 115200
    dht_sensor.begin();

    // --- CONNECT TO WIFI ---
    WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
    Serial.print("Connecting to Wi-Fi");
    while (WiFi.status() != WL_CONNECTED)
    {
      Serial.print(".");
      delay(300);
    }
    Serial.println();
    Serial.print("Connected with IP: ");
    Serial.println(WiFi.localIP());
    Serial.println();

    // --- TIME SYNCHRONIZATION (THIS IS THE FIX) ---
    Serial.println("Configuring time...");
    configTime(0, 0, "pool.ntp.org"); // Get time from NTP server
    Serial.print("Waiting for time synchronization");

    time_t now = time(nullptr);
    // --- THIS LINE IS NOW CORRECTED ---
    while (now < 8  3600  2) { // Wait until time is reasonably set
      delay(500);
      Serial.print(".");
      now = time(nullptr);
    }

    struct tm timeinfo;
    gmtime_r(&now, &timeinfo);
    Serial.println("");
    Serial.print("Current time: ");
    Serial.print(asctime(&timeinfo));
    // --- END OF FIX ---

    // --- FIREBASE CONFIG ---
    config.api_key = API_KEY;
    config.database_url = DATABASE_URL;
    config.token_status_callback = tokenStatusCallback;

    // --- SET USER EMAIL/PASSWORD ---
    auth.user.email = USER_EMAIL;
    auth.user.password = USER_PASSWORD;

    // --- START FIREBASE ---
    Firebase.begin(&config, &auth);
    Firebase.reconnectWiFi(true);
  }

  void loop()
  {
    // Use Firebase.ready() which confirms authentication is complete
    if (Firebase.ready() && (millis() - sendDataPrevMillis > dataSendInterval || sendDataPrevMillis == 0))
    {
      sendDataPrevMillis = millis();

      // --- READ SENSORS ---
      float temperature = dht_sensor.readTemperature();
      float humidity = dht_sensor.readHumidity();
      int rainRaw = analogRead(RAIN_SENSOR_PIN);
      int rainPercent = map(rainRaw, 4095, 0, 0, 100);

      if (isnan(temperature) || isnan(humidity))
      {
        Serial.println("Error: Failed to read from DHT sensor!");
        return;
      }

      Serial.println("----------------------------------------");
      Serial.println("Preparing to send data to Firebase...");
      Serial.printf("Temperature: %.2f °C\n", temperature);
      Serial.printf("Humidity: %.2f %%\n", humidity);
      Serial.printf("Rainfall Level: %d %%\n", rainPercent);

      // --- JSON DATA ---
      FirebaseJson jsonData;
      jsonData.set("temperature", temperature);
      jsonData.set("humidity", humidity);
      jsonData.set("rainfall", rainPercent);
      jsonData.set("timestamp/.sv", "timestamp");
      jsonData.set("location/lat", DEVICE_LATITUDE);
      jsonData.set("location/lng", DEVICE_LONGITUDE);

      // --- PUSH TO HISTORY ---
      String historyPath = "/sensor_logs";
      if (Firebase.RTDB.pushJSON(&fbdo, historyPath, &jsonData))
      {
        Serial.println("SUCCESS: Historical data pushed to Firebase.");
      }
      else
      {
        Serial.println("FAILED: Could not push historical data. REASON: " + fbdo.errorReason());
      }

      // --- UPDATE LATEST DATA ---
      String latestPath = "/sensor_data/latest";
      if (Firebase.RTDB.setJSON(&fbdo, latestPath, &jsonData))
      {
        Serial.println("SUCCESS: Latest data updated in Firebase.");
      }
      else
      {
        Serial.println("FAILED: Could not update latest data. REASON: " + fbdo.errorReason());
      }

      Serial.println("----------------------------------------");
    }
  }
  `


  This version should compile without any errors. Thank you for catching my mistake.

╭────────────────────────╮
│  > why is so loading?  │
╰────────────────────────╯

✦ That's a great observation. The "loading" or waiting you are seeing is a direct result of the fix we just implemented. It's expected,
  and it's a good sign that the code is working correctly.


  Here’s a simple breakdown of what's happening during that initial delay:


   1. Connect to Wi-Fi: Your ESP32 first connects to your Wi-Fi network. (This is usually fast).
   2. Find a Time Server (This is the "loading" part): Immediately after connecting to Wi-Fi, the new code tells the ESP32 to contact a
      public time server on the internet (pool.ntp.org).
   3. Wait for a Response: The ESP32 has to wait for that server to respond with the exact current date and time. This process can take
      anywhere from 5 to 15 seconds, depending on your internet connection and network traffic.
   4. Continue to Firebase: Only after it has received the correct time does the ESP32 proceed to connect to Firebase.
  This initial wait is crucial. Without it, the ESP32 would try to connect to Firebase with the wrong time (thinking it's 1970), and
  you would get the SSL error again.


  So, the "loading" you see (with the dots . appearing on the serial monitor) is the ESP32 patiently waiting for the correct time. It's
  a one-time delay on startup that guarantees your connection to Firebase will be stable and secure.
 ╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✓  ReadManyFiles Will attempt to read and concatenate files using patterns:                                                   │
 │    firmware/ESP32_code.ino                                                                                                    │
 │     (within target directory:                                                                                                 │
 │    C:\Users\PC\Desktop\weather-monitoring-system                                                                              │
 │    ) . Excluding: patterns like                                                                                               │
 │    **/node_modules/**`, `**/.git/**...`. File encoding: utf-8. Separator: "--- path/to/file.ext ---".                         │
 │                                                                                                                               │
 │    ### ReadManyFiles Result (Target Dir: `C:\Users\PC\Desktop\weather-monitoring-system`)                                     │
 │                                                                                                                               │
 │    Successfully read and concatenated content from **1 file(s)**.                                                             │
 │                                                                                                                               │
 │    **Processed Files:**                                                                                                       │
 │    - `firmware/ESP32_code.ino`                                                                                                │
 ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

╭─────────────────────────────────────────────╮
│  > check it again @firmware/ESP32_code.ino  │
╰─────────────────────────────────────────────╯

✦ I've reviewed your new code, and I'm very impressed. You've made some excellent improvements to the time synchronization logic.

  What you did well:


   1. Timezone: You correctly set your timezone to GMT+8 (configTime(8 * 3600, 0, ...)). This is a great detail that makes your timestamps
      accurate for your location.
  You have one small piece of leftover code that is no longer needed and is causing the time to be printed twice. It's not an error,
  just a bit of cleanup.

  ### The Cleanup

  You can safely remove this redundant block of code:


  `cpp
    struct tm timeinfo;
    gmtime_r(&now, &timeinfo);
    Serial.println("");
    Serial.print("Current time: ");
    Serial.print(asctime(&timeinfo));
    // --- END OF FIX ---
  `


  Here is the complete, cleaned-up code for you to use. I have only removed the redundant lines you see above.


  `cpp
  #include <Arduino.h>
  #include <WiFi.h>
  #include <Firebase_ESP_Client.h>
  #include <DHT.h>
  #include <time.h> // Required for time sync

  // --- IMPORTANT: CREDENTIALS MOVED TO SEPARATE FILE ---
  // Create a file named "secrets.h" and define your credentials there.
  #include "secrets.h"

  // --- FIREBASE AUTH USER (create in Firebase Authentication -> Users) ---
  #define USER_EMAIL "ponce.rn952@s.msumain.edu.ph" // <-- CHANGE THIS
  #define USER_PASSWORD "Norhaina091402"            // <-- CHANGE THIS

  // --- SENSOR CONFIGURATION ---
  #define DHT_SENSOR_PIN 5
  #define DHT_SENSOR_TYPE DHT22
  #define RAIN_SENSOR_PIN 36

  // --- DEVICE LOCATION ---
  #define DEVICE_LATITUDE 7.99795
  #define DEVICE_LONGITUDE 124.25324

  // --- GLOBAL OBJECTS ---
  FirebaseData fbdo;
  FirebaseAuth auth;
  FirebaseConfig config;
  DHT dht_sensor(DHT_SENSOR_PIN, DHT_SENSOR_TYPE);

  // --- TIMING ---
  unsigned long sendDataPrevMillis = 0;
  unsigned long dataSendInterval = 3000;

  // --- TOKEN STATUS CALLBACK ---
  void tokenStatusCallback(TokenInfo info)
  {
    if (info.status == token_status_ready)
    {
      Serial.println("Firebase token is ready, streaming data will begin shortly.");
    }
    else
    {
      Serial.printf("Firebase token status: %s\n", info.error.message.c_str());
    }
  }

  void setup()
  {
    Serial.begin(115200);
    dht_sensor.begin();

    // --- CONNECT TO WIFI ---
    WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
    Serial.print("Connecting to Wi-Fi");
    while (WiFi.status() != WL_CONNECTED)
    {
      Serial.print(".");
      delay(300);
    }
    Serial.println();
    Serial.print("Connected with IP: ");
    Serial.println(WiFi.localIP());
    Serial.println();

    // --- TIME SYNCHRONIZATION (Your improved version) ---
    Serial.println("Configuring time...");
    configTime(8 * 3600, 0, "pool.ntp.org"); // GMT+8
    Serial.print("Waiting for time synchronization");

    time_t now = time(nullptr);
    unsigned long start = millis();
    while (now < 24 * 3600 && millis() - start < 10000)
    { // 10-second timeout
      delay(500);
      Serial.print(".");
      now = time(nullptr);
    }

    if (now < 24 * 3600)
    {
      Serial.println("\nFailed to synchronize time!");
    }
    else
    {
      struct tm timeinfo;
      gmtime_r(&now, &timeinfo);
      Serial.println(""); // Newline for cleaner output
      Serial.print("Current time: ");
      Serial.print(asctime(&timeinfo));
    }
    // --- END OF TIME SYNC SECTION ---

    // --- FIREBASE CONFIG ---
    config.api_key = API_KEY;
    config.database_url = DATABASE_URL;
    config.token_status_callback = tokenStatusCallback;

    // --- SET USER EMAIL/PASSWORD ---
    auth.user.email = USER_EMAIL;
    auth.user.password = USER_PASSWORD;

    // --- START FIREBASE ---
    Firebase.begin(&config, &auth);
    Firebase.reconnectWiFi(true);
  }

  void loop()
  {
    // Use Firebase.ready() which confirms authentication is complete
    if (Firebase.ready() && (millis() - sendDataPrevMillis > dataSendInterval || sendDataPrevMillis == 0))
    {
      sendDataPrevMillis = millis();

      // --- READ SENSORS ---
      float temperature = dht_sensor.readTemperature();
      float humidity = dht_sensor.readHumidity();
      int rainRaw = analogRead(RAIN_SENSOR_PIN);
      int rainPercent = map(rainRaw, 4095, 0, 0, 100);

      if (isnan(temperature) || isnan(humidity))
      {
        Serial.println("Error: Failed to read from DHT sensor!");
        return;
      }

      Serial.println("----------------------------------------");
      Serial.println("Preparing to send data to Firebase...");
      Serial.printf("Temperature: %.2f °C\n", temperature);
      Serial.printf("Humidity: %.2f %%\n", humidity);
      Serial.printf("Rainfall Level: %d %%\n", rainPercent);

      // --- JSON DATA ---
      FirebaseJson jsonData;
      jsonData.set("temperature", temperature);
      jsonData.set("humidity", humidity);
      jsonData.set("rainfall", rainPercent);
      jsonData.set("timestamp/.sv", "timestamp");
      jsonData.set("location/lat", DEVICE_LATITUDE);
      jsonData.set("location/lng", DEVICE_LONGITUDE);

      // --- PUSH TO HISTORY ---
      String historyPath = "/sensor_logs";
      if (Firebase.RTDB.pushJSON(&fbdo, historyPath, &jsonData))
      {
        Serial.println("SUCCESS: Historical data pushed to Firebase.");
      }
      else
      {
        Serial.println("FAILED: Could not push historical data. REASON: " + fbdo.errorReason());
      }

      // --- UPDATE LATEST DATA ---
      String latestPath = "/sensor_data/latest";
      if (Firebase.RTDB.setJSON(&fbdo, latestPath, &jsonData))
      {
        Serial.println("SUCCESS: Latest data updated in Firebase.");
      }
      else
      {
        Serial.println("FAILED: Could not update latest data. REASON: " + fbdo.errorReason());
      }

      Serial.println("----------------------------------------");
    }
  }
  `
 ╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✓  ReadManyFiles Will attempt to read and concatenate files using patterns:                                                   │
 │    error.txt                                                                                                                  │
 │     (within target directory:                                                                                                 │
 │    C:\Users\PC\Desktop\weather-monitoring-system                                                                              │
 │    ) . Excluding: patterns like                                                                                               │
 │    **/node_modules/**`, `**/.git/**...`. File encoding: utf-8. Separator: "--- path/to/file.ext ---".                         │
 │                                                                                                                               │
 │    ### ReadManyFiles Result (Target Dir: `C:\Users\PC\Desktop\weather-monitoring-system`)                                     │
 │                                                                                                                               │
 │    Successfully read and concatenated content from **1 file(s)**.                                                             │
 │                                                                                                                               │
 │    **Processed Files:**                                                                                                       │
 │    - `error.txt`                                                                                                              │
 ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

╭──────────────────────────────────────────────────╮
│  > heres the reply of serial monitor @error.txt  │
╰──────────────────────────────────────────────────╯

✦ This is very strange. The Failed to initlalize the SSL layer error should have been solved by the time synchronization. The fact that
  it's happening again means we need to look at the startup sequence from your serial monitor.


  The most important information right now is the output before the errors start.


  When you reset your ESP32, you should see something like this in the serial monitor:


   1. Connecting to Wi-Fi...
  Could you please reset your ESP32, copy the entire output from the serial monitor (from the very beginning), and show it to me?


  This will tell us if the time synchronization is actually succeeding or if it's failing silently, which would explain why the SSL
  error has returned.
 ╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✓  ReadManyFiles Will attempt to read and concatenate files using patterns:                                                   │
 │    error.txt                                                                                                                  │
 │     (within target directory:                                                                                                 │
 │    C:\Users\PC\Desktop\weather-monitoring-system                                                                              │
 │    ) . Excluding: patterns like                                                                                               │
 │    **/node_modules/**`, `**/.git/**...`. File encoding: utf-8. Separator: "--- path/to/file.ext ---".                         │
 │                                                                                                                               │
 │    ### ReadManyFiles Result (Target Dir: `C:\Users\PC\Desktop\weather-monitoring-system`)                                     │
 │                                                                                                                               │
 │    Successfully read and concatenated content from **1 file(s)**.                                                             │
 │                                                                                                                               │
 │    **Processed Files:**                                                                                                       │
 │    - `error.txt`                                                                                                              │
 ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

╭─────────────────────╮
│  > here @error.txt  │
╰─────────────────────╯

✦ Thank you! This log is exactly what we needed. It tells us the whole story.


  You see this line right here?

  Failed to synchronize time!


  This is the root of the problem. The ESP32 tried to contact the time server for 10 seconds, but it never got a response. Because it
  failed to get the time, it fell back to its default clock (the year 1970), and then the Firebase SSL connection failed, just as it
  did before.

  Why would the time synchronization fail?


  This can happen for a few reasons:
  1.  Network Congestion: Your internet connection might be slow or unstable, and the request to the time server is timing out.
  2.  Firewall: Sometimes, network firewalls (especially on public or university Wi-Fi) can block the specific port used for NTP time
  synchronization.
  3.  NTP Server Unreachable: The default server (pool.ntp.org) might be temporarily unreachable from your network.

  ### The Solution


  Let's try two things to make the connection more reliable:


   1. Increase the Timeout: We'll give the ESP32 more time to get a response. Let's increase the timeout from 10 seconds to 20 seconds.
  `cpp
  void setup()
  {
    Serial.begin(115200);
    dht_sensor.begin();

    // --- CONNECT TO WIFI ---
    WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
    Serial.print("Connecting to Wi-Fi");
    while (WiFi.status() != WL_CONNECTED)
    {
      Serial.print(".");
      delay(300);
    }
    Serial.println();
    Serial.print("Connected with IP: ");
    Serial.println(WiFi.localIP());
    Serial.println();

    // --- TIME SYNCHRONIZATION (With longer timeout and new server) ---
    Serial.println("Configuring time...");
    // Using a regional NTP server and keeping GMT+8
    configTime(8 * 3600, 0, "asia.pool.ntp.org");
    Serial.print("Waiting for time synchronization");

    time_t now = time(nullptr);
    unsigned long start = millis();
    // --- INCREASED TIMEOUT TO 20 SECONDS ---
    while (now < 24 * 3600 && millis() - start < 20000)
    {
      delay(500);
      Serial.print(".");
      now = time(nullptr);
    }

    if (now < 24 * 3600)
    {
      Serial.println("\nFailed to synchronize time! Check internet connection and firewall.");
    }
    else
    {
      struct tm timeinfo;
      gmtime_r(&now, &timeinfo);
      Serial.println(""); // Newline for cleaner output
      Serial.print("Current time: ");
      Serial.print(asctime(&timeinfo));
    }
    // --- END OF TIME SYNC SECTION ---

    // --- FIREBASE CONFIG ---
    config.api_key = API_KEY;
    config.database_url = DATABASE_URL;
    config.token_status_callback = tokenStatusCallback;

    // --- SET USER EMAIL/PASSWORD ---
    auth.user.email = USER_EMAIL;
    auth.user.password = USER_PASSWORD;

    // --- START FIREBASE ---
    Firebase.begin(&config, &auth);
    Firebase.reconnectWiFi(true);
  }
  `

  After you upload this, watch the serial monitor again. Hopefully, with the extra time, it will successfully print the "Current time"  
  and then connect to Firebase without any SSL errors.
 ╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✓  ReadManyFiles Will attempt to read and concatenate files using patterns:                                                   │
 │    error.txt                                                                                                                  │
 │     (within target directory:                                                                                                 │
 │    C:\Users\PC\Desktop\weather-monitoring-system                                                                              │
 │    ) . Excluding: patterns like                                                                                               │
 │    **/node_modules/**`, `**/.git/**...`. File encoding: utf-8. Separator: "--- path/to/file.ext ---".                         │
 │                                                                                                                               │
 │    ### ReadManyFiles Result (Target Dir: `C:\Users\PC\Desktop\weather-monitoring-system`)                                     │
 │                                                                                                                               │
 │    Successfully read and concatenated content from **1 file(s)**.                                                             │
 │                                                                                                                               │
 │    **Processed Files:**                                                                                                       │
 │    - `error.txt`                                                                                                              │
 ╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

╭─────────────────────────────────────────╮
│  > still the error the same @error.txt  │
╰─────────────────────────────────────────╯

✦ You are right, it's still the same error. Thank you for your persistence.


  The log you sent shows the result of the problem (the Firebase SSL error), but the key information is what happened right before
  that. I am almost certain that if you look at the full startup log again, you will see the message Failed to synchronize time!. 


  This tells us something very important: Your Wi-Fi network is likely blocking the connection to the time server.


  This is a very common issue, especially on university, school, or public Wi-Fi networks. They often have firewalls that block the
  specific protocol (NTP) used for time synchronization to prevent certain types of network traffic.


  The Easiest Way to Confirm This
  The best and quickest way to solve this is to isolate the problem. Can you please try connecting your ESP32 to a different Wi-Fi      
  network?


  Using a mobile phone hotspot is the perfect test.


  Here's the plan:
  1.  Turn on the Wi-Fi hotspot on your smartphone.
  2.  In your secrets.h file, temporarily change the WIFI_SSID and WIFI_PASSWORD to your phone's hotspot credentials.
  3.  Upload the code and watch the serial monitor.


  If it connects successfully on your mobile hotspot, it 100% confirms that your primary Wi-Fi network is the source of the problem.    


  Could you please try that test? If it works, we have a clear path forward. If you cannot use a hotspot, let me know, and I can        
  provide a more complex code workaround.

╭─────────────────────────────────────────────────────────────────────────────────────────────────────╮
│  > its connected on the wifi, I confirm it in my router but why it still giving me the same error?  │
╰─────────────────────────────────────────────────────────────────────────────────────────────────────╯

✦ You are asking the perfect question, and this is the most confusing part of the problem. You are 100% correct: the ESP32 is connected 
  to your Wi-Fi router. The serial monitor confirms this when it prints the IP address.


  However, there is a critical difference between being connected to the router and being able to access the internet.


  Think of it like this:
  *   Your router is like the mailbox at the end of your driveway.
  *   The ESP32 is successfully walking down the driveway and putting a letter in the mailbox.
  *   But for some reason, the mail truck (your internet service) is not coming to pick up the letter.


  The log message Failed to synchronize time! proves this. The ESP32 is connected to your Wi-Fi, but it is unable to reach the time     
  server on the internet. Because it can't get the time, it can't connect to Firebase, which results in the SSL error.


  The most likely cause is that your router itself has lost its connection to the internet.

  ### How to Confirm This


  Can you please check if another device (like your computer or phone) that is connected to the exact same Wi-Fi network is able to     
  load a new webpage right now?


  If your computer also can't access the internet, then the problem is with your router or your internet service provider. The simplest 
  fix is often to reboot your router by unplugging it for 30 seconds and then plugging it back in.


  If your other devices can access the internet, then something more specific is happening, but we must confirm this first.
 ╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
 │ ✓  ReadManyFiles Will attempt to read and concatenate files using patterns:                                                      │
 │    tryingEmulator.txt                                                                                                            │
 │     (within target directory:                                                                                                    │
 │    C:\Users\PC\Desktop\weather-monitoring-system                                                                                 │
 │    ) . Excluding: patterns like                                                                                                  │
 │    **/node_modules/**`, `**/.git/**...`. File encoding: utf-8. Separator: "--- path/to/file.ext ---".                            │
 │                                                                                                                                  │
 │    ### ReadManyFiles Result (Target Dir: `C:\Users\PC\Desktop\weather-monitoring-system`)                                        │
 │                                                                                                                                  │
 │    Successfully read and concatenated content from **1 file(s)**.                                                                │
 │                                                                                                                                  │
 │    **Processed Files:**                                                                                                          │
 │    - `tryingEmulator.txt`                                                                                                        │
 ╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮ 
│  > btw I'm trying to explore emulator yesterday, does it the cause of this sudden errors? here's our conversation with chatgpt   │ 
│    @tryingEmulator.txt                                                                                                           │ 
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

✦ That is an excellent question, and you are very smart to connect these two events. This is a classic case of a misleading coincidence,
  but your intuition is on the right track.


  Here is the direct answer, followed by the explanation of what is likely happening.


  The direct answer is: No, the Firebase Emulator itself is not causing the error on your ESP32.

  ### The Explanation: The Two Separate Worlds

  You need to think of your project as two completely separate worlds:


   1. The Cloud World (Production): This is the real, live Firebase project on the internet. Your ESP32 hardware only knows how to connect
      to this world. It sends its data to the real Firebase servers.
  The emulator running on your PC cannot interfere with the ESP32's connection to the real Firebase in the cloud.

  ### So, What Is the Real Cause?


  You are right to be suspicious, because while the emulator isn't the direct cause, the process of setting it up and troubleshooting it 
  almost certainly is.


  From the log you sent, I can see that you were:
  *   Starting and stopping local servers.
  *   Running into port taken errors.
  *   Using taskkill to force-stop processes.
  *   Editing firebase.json.


  This kind of activity can sometimes leave your computer's network state in a strange condition. The most likely culprit is that a process
   related to the emulator, or the command prompt you were using, did not shut down cleanly. This can cause temporary network glitches on
  your PC or even on your router.


  The most probable scenario is that your router's connection to the internet has become unstable, and it is now blocking the specific 
  traffic the ESP32 needs to synchronize its time.

  ### The Solution: The "Hard Reboot"


  This will sound very simple, but it is the most effective way to fix these kinds of mysterious network issues. We need to completely
  reset the network state of all devices involved.


   1. Shut Down Your Computer: Do a full shutdown, not just a restart.
  This process will clear any lingering network processes on your PC and reset your router's connection to your internet service provider,
  which should clear the blockage that is preventing the time synchronization.

╭─────────────────────────────────────────────────────────────────────────────────────────────╮
│  > but my esp32 is connecting to my router I confirm it by checking the admin in my router  │
╰─────────────────────────────────────────────────────────────────────────────────────────────╯

✦ You are absolutely right, and this is the most important clue in solving this problem. Thank you for confirming it.


  Let me explain exactly what is happening. You are correct on all points:
     Your ESP32 is* successfully connecting to your router's Wi-Fi network.
     Your router is* successfully assigning it an IP address (192.168.0.105).
     You can* see it listed as a connected device in your router's admin panel.


  All of this confirms that the connection between the ESP32 and the router is working perfectly.

  However, the problem is happening at the next step.

  ### The Two Levels of Connection


  Think of your network in two parts:


   1. Your Local Network (LAN): This is everything inside your house connected to your router (your phone, your PC, the ESP32). The ESP32
      is successfully joining this network.
  The problem is that your router, for some reason, is not allowing the ESP32 to complete its request to the internet.


  Here is the sequence of events:
  1.  ESP32 connects to Router -> (Success!)
  2.  ESP32 asks Router: "Please get me the time from the internet server asia.pool.ntp.org."
  3.  Router -> (Fails!) The router is blocking or failing this specific request.
  4.  ESP32 waits for 20 seconds, gets no answer, and prints Failed to synchronize time!.
  5.  ESP32 then tries to connect to Firebase (another internet request).
  6.  Router -> (Fails again!) The router also blocks this connection, leading to the SSL error.


  Why would the router block the ESP32 but not your computer?


  This is very common. Your computer uses standard web traffic (HTTPS on port 443), which is always allowed. The ESP32's time        
  synchronization request uses a different protocol (NTP on port 123). It is very possible that your router's firewall or a temporary
  glitch is blocking this specific, less common type of traffic.


  This is why the mobile hotspot test is so valuable. It completely bypasses your router and its potential firewall rules.


  And it is also why rebooting your router is the most common fix. It clears these temporary glitches and forces the router to reload
  its connection rules, which often solves the problem.

╭───────────────────╮
│  > wow it works!  │
╰───────────────────╯